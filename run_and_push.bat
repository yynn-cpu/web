@echo off
echo =================================================
echo [1/3] 🚀 正在启动 Python 实盘策略扫描器...
echo =================================================

:: 1. 运行你的 Python 脚本
python scanner.py

if %ERRORLEVEL% NEQ 0 (
    echo ❌ Python 运行出错，请检查代码或网络！
    pause
    exit /b
)

echo.
echo =================================================
echo [2/3] 💾 扫描完成，正在准备同步至 GitHub...
echo =================================================

:: 2. 执行 Git 提交
git add data.json
git commit -m "自动更新策略信号: %date% %time%"

echo.
echo =================================================
echo [3/3] 📡 正在推送到远程仓库 (GitHub Pages)...
echo =================================================

:: 3. 推送到服务器
git push

echo.
echo =================================================
echo ✅ 所有任务已完成！
echo 🌐 你的看板已更新，请刷新网页查看。
echo =================================================
pause